# 작업 지침
- 모든 설명, 커밋 메시지, PR 본문은 한국어로 작성합니다.
- 리셋 신호는 active-high `rst` 비동기 방식으로 통일합니다.
- 코드 스타일은 Verilog-2001을 사용하고, 비트 폭을 명시합니다.
- 테스트 코드를 추가하고, 작성한 테스트는 자동으로 실행합니다(가능한 경우 iverilog 사용).
- 버튼 가속/감속 입력은 `autorepeat` 모듈로 처리하며, 초기 지연 후 일정 주기로 펄스를 반복 생성하도록 유지합니다.
- `run_tests.sh`는 `tb_top`, `tb_display`, `tb_autorepeat`를 순차 실행해 버튼 오토리핏과 속도/기어 표시를 모두 검증하며, PIEZO 엔진음 주파수를 확인하는 `tb_engine_sound`도 포함합니다.
- 제공된 `servo.v`는 수정하지 않습니다.
- 서보 모터는 RPM 게이지로 동작하므로 버튼 입력 없이 속도/기어 기반 제어 흐름을 유지합니다.
- 새 모듈은 파일 단위로 작성하며, 상위 모듈에서 하위 모듈 순으로 정렬합니다.
- 모든 변경 후 `make_pr` 호출 전에 반드시 커밋합니다.
- DC 모터 제어는 사용하지 않으므로 `dc_pwm` 관련 포트를 추가하지 않습니다.
- `dc_pwm_gen.v`는 설계 경로에서 제거되었으며, 추후 필요 시 명확한 연결 설계와 전용 테스트벤치를 추가한 뒤 재도입합니다.
- `leds[7:5]`는 풀컬러 LED의 RGB 순서(R, G, B)로 사용하며, 속도 단계에 따라 초록(정상), 노랑(주의), 빨강(고 RPM)으로 점등되도록 유지합니다.
- `leds[4:0]`는 RPM 전용 5단 바그래프로 사용하며, `speed_level`을 `max_level`에 대한 비율(20%/40%/60%/80%)로 표시합니다.
- 풀컬러 LED와 바그래프의 동작은 `tb_top.v` 테스트벤치에서 검증하며, `./run_tests.sh` 스크립트로 iverilog/vvp 기반 자동 실행을 유지합니다.
- PIEZO 부저는 `top` 모듈 출력 포트 `piezo`로 제공하며, `engine_sound` 모듈이 `clk_10khz`와 `rst`(active-high), `speed_level`을 받아 기본 200Hz에서 속도 단계당 150Hz씩 증가하는 사각파 엔진음을 생성합니다.
- FND/7-세그 표시 구조: 속도는 8자리 전용 `speed_fnd_controller`(출력 포트 `speed_fnd_sel[7:0]`, `speed_fnd_seg[7:0]`)에서 `speed_level`을 최소 자리수에, `max_level`을 그 윗자리(BCD)로 표기하며 나머지는 0으로 채웁니다. 기어는 단일 7세그 포트 `gear_seg[7:0]`으로 분리해 `gear_display`로 구동합니다. 상위 모듈(`top`) 포트 및 관련 테스트벤치를 일관되게 갱신해야 합니다.
